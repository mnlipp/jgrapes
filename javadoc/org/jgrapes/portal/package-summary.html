<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_144) on Sun Oct 29 21:50:45 CET 2017 -->
<title>org.jgrapes.portal (JGrapes API)</title>
<meta name="date" content="2017-10-29">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="org.jgrapes.portal (JGrapes API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jgrapes/net/events/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../org/jgrapes/portal/events/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jgrapes/portal/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<p>@Version(value="${api_version}")
</p>
<h1 title="Package" class="title">Package&nbsp;org.jgrapes.portal</h1>
<div class="docSummary">
<div class="block">The portal package provides a portal implementation based on the
core, io and http packages of the JGrapes framework.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jgrapes/portal/Portal.ManagedPortalMXBean.html" title="interface in org.jgrapes.portal">Portal.ManagedPortalMXBean</a></td>
<td class="colLast">
<div class="block">An MBean interface for the portal component.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/jgrapes/portal/Portlet.html" title="interface in org.jgrapes.portal">Portlet</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jgrapes/portal/RenderSupport.html" title="interface in org.jgrapes.portal">RenderSupport</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jgrapes/portal/AbstractPortlet.html" title="class in org.jgrapes.portal">AbstractPortlet</a></td>
<td class="colLast">
<div class="block">Provides a base class for implementing portlet components that
maintain the portlet&rsquo;s state in the browser session.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/jgrapes/portal/AbstractPortlet.PortletBaseModel.html" title="class in org.jgrapes.portal">AbstractPortlet.PortletBaseModel</a></td>
<td class="colLast">
<div class="block">Defines the portlet model following the JavaBean conventions.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jgrapes/portal/KVStoreBasedPortalPolicy.html" title="class in org.jgrapes.portal">KVStoreBasedPortalPolicy</a></td>
<td class="colLast">
<div class="block">A component that restores the portal layout,
using key/value events for persisting the data between sessions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/jgrapes/portal/Portal.html" title="class in org.jgrapes.portal">Portal</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jgrapes/portal/PortalLocalBackedKVStore.html" title="class in org.jgrapes.portal">PortalLocalBackedKVStore</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/jgrapes/portal/PortalSession.html" title="class in org.jgrapes.portal">PortalSession</a></td>
<td class="colLast">
<div class="block">The server side representation of a window in the browser
that displays a portal view (a portal session).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jgrapes/portal/PortalView.html" title="class in org.jgrapes.portal">PortalView</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/jgrapes/portal/PortalView.LanguageInfo.html" title="class in org.jgrapes.portal">PortalView.LanguageInfo</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jgrapes/portal/PortalView.ThemeInfo.html" title="class in org.jgrapes.portal">PortalView.ThemeInfo</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../org/jgrapes/portal/ThemeProvider.html" title="class in org.jgrapes.portal">ThemeProvider</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jgrapes/portal/Utils.html" title="class in org.jgrapes.portal">Utils</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Enum Summary table, listing enums, and an explanation">
<caption><span>Enum Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Enum</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jgrapes/portal/Portlet.RenderMode.html" title="enum in org.jgrapes.portal">Portlet.RenderMode</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Exception Summary table, listing exceptions, and an explanation">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../org/jgrapes/portal/ResourceNotFoundException.html" title="class in org.jgrapes.portal">ResourceNotFoundException</a></td>
<td class="colLast">
<div class="block">Thrown if a resource cannot be found.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package org.jgrapes.portal Description">Package org.jgrapes.portal Description</h2>
<div class="block"><p>The portal package provides a portal implementation based on the
core, io and http packages of the JGrapes framework.</p>
<ul>
<li><a href="#portal-and-portalview">Portal and PortalView</a></li>
<li><a href="#data-exchange">Data exchange</a></li>
<li><a href="#boot-sequence">Boot sequence</a></li>
</ul>
<h2><a href="#portal-and-portalview" id="portal-and-portalview">Portal and PortalView</a></h2>
<p>The <a href="../../../org/jgrapes/portal/Portal.html" title="class in org.jgrapes.portal"><code>Portal</code></a> component
is conceptually the main component of the portal. It exchanges events
with the portlets, usually using a channel that is independent
of the  channel used for HTTP Input/Output.</p>
<p>When created, a <a href="../../../org/jgrapes/portal/Portal.html" title="class in org.jgrapes.portal"><code>Portal</code></a> component automatically
instantiates a child component of type <a href="../../../org/jgrapes/portal/PortalView.html" title="class in org.jgrapes.portal"><code>PortalView</code></a>
which handles the HTTP side of the portal. You can think of the
<a href="../../../org/jgrapes/portal/PortalView.html" title="class in org.jgrapes.portal"><code>PortalView</code></a>/<a href="../../../org/jgrapes/portal/Portal.html" title="class in org.jgrapes.portal"><code>Portal</code></a>
pair as a gateway that translates the Input/Output related events on the
HTTP side to portal/portlet related events on the portlet side and
vice versa.</p>
<p>The portal is implemented as a single page application. There is only
one initial HTML document that provides the basic structure of the portal.
Aside from requests for static resources like JavaScript libraries, CSS,
images etc. all information is then exchanged using a web socket connection
that is established immediately after the initial HTML has been loaded.</p>
<h2><a href="#data-exchange" id="data-exchange">Data exchange</a></h2>
<p>The following diagram shows the start of the
portal bootstrap to the first JSON messages.</p>
<p><img src="PortalBootSeq.svg" alt="Boot Event Sequence" /></p>
<p>After the portal page has loaded and the web socket connection has been
established, all information is exchanged using
<a href="http://www.jsonrpc.org/specification#notification" target="_top">JSON RPC notifications</a>.
The <a href="../../../org/jgrapes/portal/PortalView.html" title="class in org.jgrapes.portal"><code>PortalView</code></a> processes
<a href="../../../org/jgrapes/io/events/Input.html" title="class in org.jgrapes.io.events"><code>Input</code></a> events with serialized JSON RPC data
from the web socket until the complete JSON RPC notification has been
received. The notification (a <a href="../../../org/jgrapes/portal/events/JsonInput.html" title="class in org.jgrapes.portal.events"><code>JsonInput</code></a>
from the servers point of view) is then fired on the
<a href="../../../org/jgrapes/portal/PortalSession.html" title="class in org.jgrapes.portal"><code>PortalSession</code></a> channel, which allows it to
be intercepted by additional components. Usually, however, it is
handled by the <a href="../../../org/jgrapes/portal/Portal.html" title="class in org.jgrapes.portal"><code>Portal</code></a> that converts it
to a higher level event that is again fired on the
<a href="../../../org/jgrapes/portal/PortalSession.html" title="class in org.jgrapes.portal"><code>PortalSession</code></a> channel.</p>
<p>Components respond by sending higher level events on the
<a href="../../../org/jgrapes/portal/PortalSession.html" title="class in org.jgrapes.portal"><code>PortalSession</code></a> channel.
The events are handled by the portal which converts them to
<a href="../../../org/jgrapes/portal/events/JsonOutput.html" title="class in org.jgrapes.portal.events"><code>JsonOutput</code></a> events. These are
processed by the <a href="../../../org/jgrapes/portal/PortalView.html" title="class in org.jgrapes.portal"><code>PortalView</code></a> which
serializes the data and sends it to the websocket using
<a href="../../../org/jgrapes/io/events/Output.html" title="class in org.jgrapes.io.events"><code>Output</code></a> events.</p>
<h2><a href="#boot-sequence" id="boot-sequence">Boot sequence</a></h2>
<p>The following diagram shows the complete mandatory sequence of events
following the portal ready message. Note that the documentation of
the events uses a slightly simplified version of the sequence
diagram that combines the <a href="../../../org/jgrapes/portal/PortalView.html" title="class in org.jgrapes.portal"><code>PortalView</code></a> and the
<a href="../../../org/jgrapes/portal/Portal.html" title="class in org.jgrapes.portal"><code>Portal</code></a> into a single object and leaves out the
details about the JSON serialization/deserialization.</p>
<p><img src="PortalReadySeq.svg" alt="Portal Ready Event Sequence" /></p>
<p>Portlets trigger actions on the browser by firing events on the portal
channel. The events are forward to the <a href="../../../org/jgrapes/portal/PortalView.html" title="class in org.jgrapes.portal"><code>PortalView</code></a>
that converts them to JSON RPCs that are serialized and sent on the web
socket (as <a href="../../../org/jgrapes/io/events/Output.html" title="class in org.jgrapes.io.events"><code>Output</code></a> events).</p>
<p>Details about the handling of the different events can be found in their
respective JavaDoc or in the documentation of the components that handle
them. The diagrams used there combine the
<a href="../../../org/jgrapes/portal/PortalView.html" title="class in org.jgrapes.portal"><code>PortalView</code></a> and the
<a href="../../../org/jgrapes/portal/Portal.html" title="class in org.jgrapes.portal"><code>Portal</code></a> into a single object just as this one.</p>
<p>The diagram leaves out some optional message exchanges
that may occur in response to a
<a href="../../../org/jgrapes/portal/events/AddPortletType.html" title="class in org.jgrapes.portal.events"><code>AddPortletType</code></a> event.
The complete sequence of events is documented at the event&rsquo;s
class description.</p>
<h1><a href="#portal-policies" id="portal-policies">Portal Policies</a></h1>
<p>Portal policy components are responsible for establishing the initial
set of portlets shown after the portal page has loaded. Usually,
there will be a portal policy component that restores the layout from the
previous session. <a href="../../../org/jgrapes/portal/KVStoreBasedPortalPolicy.html" title="class in org.jgrapes.portal"><code>KVStoreBasedPortalPolicy</code></a>
is an example of such a component.</p>
<p>There can be more than one portal policy component. A common use case
is to have one policy component that maintains the portal layout
and another component that ensures that the portal is not empty when
a new session is initially created. The Demo includes such a component.</p></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><script type="text/javascript" charset="utf-8" src="../../../highlight.pack.js"></script>
<script type="text/javascript"><!--
var cssId = 'highlightCss';
if (!document.getElementById(cssId))
{
    var head  = document.getElementsByTagName('head')[0];
    var link  = document.createElement('link');
    link.id   = cssId;
    link.rel  = 'stylesheet';
    link.type = 'text/css';
    link.charset = 'utf-8';
    link.href = '../../../highlight.css';
    link.media = 'all';
    head.appendChild(link);
}hljs.initHighlightingOnLoad();
//--></script></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/jgrapes/net/events/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../org/jgrapes/portal/events/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/jgrapes/portal/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["setDomains", ["*.mnlipp.github.io"]]);
  _paq.push(["trackPageView"]);
  _paq.push(["enableLinkTracking"]);
  (function() {
    var u="//piwik.mnl.de/";
    _paq.push(["setTrackerUrl", u+"piwik.php"]);
    _paq.push(["setSiteId", "10"]);
    var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
    g.type="text/javascript"; g.async=true; g.defer=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//piwik.mnl.de/piwik.php?idsite=10" style="border:0;" alt="" /></p></noscript>
<!-- End Piwik Code --></small></p>
</body>
</html>
