<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="367px" preserveAspectRatio="none" style="width:562px;height:367px;" version="1.1" viewBox="0 0 562 367" width="562px" zoomAndPan="magnify"><defs><filter height="300%" id="fb4wj60arfhkt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster org.jgrapes.http--><polygon fill="#FFFFFF" filter="url(#fb4wj60arfhkt)" points="272,16,408,16,415,38.2969,418,38.2969,418,99,272,99,272,16" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="272" x2="415" y1="38.2969" y2="38.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="130" x="276" y="30.9951">org.jgrapes.http</text><!--class Session--><rect fill="#FEFECE" filter="url(#fb4wj60arfhkt)" height="48" id="Session" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="289.5" y="43"/><ellipse cx="304.5" cy="59" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M307.4688,64.6406 Q306.8906,64.9375 306.25,65.0859 Q305.6094,65.2344 304.9063,65.2344 Q302.4063,65.2344 301.0859,63.5859 Q299.7656,61.9375 299.7656,58.8125 Q299.7656,55.6875 301.0859,54.0313 Q302.4063,52.375 304.9063,52.375 Q305.6094,52.375 306.2578,52.5313 Q306.9063,52.6875 307.4688,52.9844 L307.4688,55.7031 Q306.8438,55.125 306.25,54.8516 Q305.6563,54.5781 305.0313,54.5781 Q303.6875,54.5781 303,55.6484 Q302.3125,56.7188 302.3125,58.8125 Q302.3125,60.9063 303,61.9766 Q303.6875,63.0469 305.0313,63.0469 Q305.6563,63.0469 306.25,62.7734 Q306.8438,62.5 307.4688,61.9219 L307.4688,64.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="45" x="318.5" y="63.1543">Session</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="290.5" x2="365.5" y1="75" y2="75"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="290.5" x2="365.5" y1="83" y2="83"/><!--class PortalSession--><rect fill="#FEFECE" filter="url(#fb4wj60arfhkt)" height="188.8516" id="PortalSession" style="stroke: #A80036; stroke-width: 1.5;" width="438" x="6" y="168"/><ellipse cx="181.25" cy="184" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M184.2188,189.6406 Q183.6406,189.9375 183,190.0859 Q182.3594,190.2344 181.6563,190.2344 Q179.1563,190.2344 177.8359,188.5859 Q176.5156,186.9375 176.5156,183.8125 Q176.5156,180.6875 177.8359,179.0313 Q179.1563,177.375 181.6563,177.375 Q182.3594,177.375 183.0078,177.5313 Q183.6563,177.6875 184.2188,177.9844 L184.2188,180.7031 Q183.5938,180.125 183,179.8516 Q182.4063,179.5781 181.7813,179.5781 Q180.4375,179.5781 179.75,180.6484 Q179.0625,181.7188 179.0625,183.8125 Q179.0625,185.9063 179.75,186.9766 Q180.4375,188.0469 181.7813,188.0469 Q182.4063,188.0469 183,187.7734 Q183.5938,187.5 184.2188,186.9219 L184.2188,189.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="201.75" y="188.1543">PortalSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="443" y1="200" y2="200"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="208.9023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="240" x="26" y="214.2104">Map&lt;String,PortalSession&gt; portalSessions</text><line style="stroke: #000000; stroke-width: 1.0;" x1="26" x2="266" y1="216.2104" y2="216.2104"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="443" y1="220.8047" y2="220.8047"/><ellipse cx="17" cy="232.707" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="412" x="26" y="235.0151">findOrCreate(String portalSessionId, Manager component): PortalSession</text><line style="stroke: #000000; stroke-width: 1.0;" x1="26" x2="438" y1="237.0151" y2="237.0151"/><ellipse cx="17" cy="245.5117" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="26" y="247.8198">setTimeout(timeout: long): PortalSession</text><ellipse cx="17" cy="258.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="26" y="260.6245">refresh(): void</text><ellipse cx="17" cy="271.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="391" x="26" y="273.4292">setUpstreamChannel(IOSubchannel upstreamChannel): PortalSession</text><ellipse cx="17" cy="283.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="288" x="26" y="286.2339">setSession(Session browserSession): PortalSession</text><ellipse cx="17" cy="296.7305" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="258" x="26" y="299.0386">upstreamChannel(): Optional&lt;IOSubchannel&gt;</text><ellipse cx="17" cy="309.5352" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="135" x="26" y="311.8433">portalSessionId(): String</text><ellipse cx="17" cy="322.3398" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="26" y="324.6479">browserSession(): Session</text><ellipse cx="17" cy="335.1445" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="26" y="337.4526">locale(): Locale</text><ellipse cx="17" cy="347.9492" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="26" y="350.2573">setLocale(Locale locale): void</text><!--class IOSubchannel--><rect fill="#FEFECE" filter="url(#fb4wj60arfhkt)" height="48" id="IOSubchannel" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="137.5" y="43"/><ellipse cx="152.5" cy="59" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M148.9219,54.7656 L148.9219,52.6094 L156.3125,52.6094 L156.3125,54.7656 L153.8438,54.7656 L153.8438,62.8438 L156.3125,62.8438 L156.3125,65 L148.9219,65 L148.9219,62.8438 L151.3906,62.8438 L151.3906,54.7656 L148.9219,54.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="85" x="166.5" y="63.1543">IOSubchannel</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="138.5" x2="253.5" y1="75" y2="75"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="138.5" x2="253.5" y1="83" y2="83"/><!--link IOSubchannel to PortalSession--><path d="M202.5888,111.4177 C205.0782,128.1994 208.0159,148.0037 210.9304,167.6514 " fill="none" id="IOSubchannel-PortalSession" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="195.6247,112.1756,199.6142,91.3649,209.4732,110.1213,195.6247,112.1756" style="stroke: #A80036; stroke-width: 1.0;"/><!--link PortalSession to PortalSession--><path d="M456.8831,245.4423 C470.7107,249.5128 479,255.1987 479,262.5 C479,271.8457 465.4188,278.5447 444.0257,282.5969 " fill="none" id="PortalSession-PortalSession" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="444.0257,242.4031,448.9446,247.6761,455.7039,245.1636,450.785,239.8906,444.0257,242.4031" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="485" y="267.0669">maintains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="452.0407" y="238.4833">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="452.0227" y="280.1215">*</text><!--link Session to PortalSession--><path d="M312.676,96.0858 C302.5652,115.2767 288.6958,141.6016 274.9714,167.6514 " fill="none" id="Session-PortalSession" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="315.1632,91.3649,307.4292,97.4628,312.8326,95.7885,314.5069,101.1919,315.1632,91.3649" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="298" y="134.0669">browser session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="303.0592" y="111.2151">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="271.5294" y="156.893">*</text><!--
@startuml
class PortalSession {
	-{static}Map<String,PortalSession> portalSessions
	+{static}findOrCreate(String portalSessionId, Manager component): PortalSession
  +setTimeout(timeout: long): PortalSession
  +refresh(): void
	+setUpstreamChannel(IOSubchannel upstreamChannel): PortalSession
	+setSession(Session browserSession): PortalSession
	+upstreamChannel(): Optional<IOSubchannel>
	+portalSessionId(): String
	+browserSession(): Session
	+locale(): Locale
	+setLocale(Locale locale): void
 }
 Interface IOSubchannel {
 }
 IOSubchannel <|.. PortalSession

 PortalSession "1" *- - "*" PortalSession : maintains
 
 package org.jgrapes.http {
     class Session
 }
 
 PortalSession "*" -up-> "1" Session: browser session
@enduml

PlantUML version 1.2017.18(Fri Oct 06 18:56:32 CEST 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_151-b12
Operating System: Linux
OS Version: 4.13.16-302.fc27.x86_64
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>