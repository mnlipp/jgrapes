<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Sun Oct 21 12:06:47 UTC 2018 -->
<title>ManagedBufferPool (org.jgrapes.core 0.19.2 API)</title>
<meta name="date" content="2018-10-21">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ManagedBufferPool (org.jgrapes.core 0.19.2 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":9,"i3":10,"i4":10,"i5":9,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ManagedBufferPool.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/jgrapes/io/util/ManagedBuffer.CharBufferView.html" title="class in org.jgrapes.io.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.ManagedBufferPoolMXBean.html" title="interface in org.jgrapes.io.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jgrapes/io/util/ManagedBufferPool.html" target="_top">Frames</a></li>
<li><a href="ManagedBufferPool.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jgrapes.io.util</div>
<h2 title="Class ManagedBufferPool" class="title">Class ManagedBufferPool&lt;W extends <a href="../../../../org/jgrapes/io/util/ManagedBuffer.html" title="class in org.jgrapes.io.util">ManagedBuffer</a>&lt;T&gt;,T extends <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/Buffer.html?is-external=true" title="class or interface in java.nio">Buffer</a>&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.jgrapes.io.util.ManagedBufferPool&lt;W,T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>W</code> - the type of the wrapped (managed) buffer</dd>
<dd><code>T</code> - the type of the content buffer that is wrapped</dd>
</dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/jgrapes/io/util/BufferCollector.html" title="interface in org.jgrapes.io.util">BufferCollector</a>&lt;W&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <a href="../../../../src-html/org/jgrapes/io/util/ManagedBufferPool.html#line.91">ManagedBufferPool</a>&lt;W extends <a href="../../../../org/jgrapes/io/util/ManagedBuffer.html" title="class in org.jgrapes.io.util">ManagedBuffer</a>&lt;T&gt;,T extends <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/Buffer.html?is-external=true" title="class or interface in java.nio">Buffer</a>&gt;
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../org/jgrapes/io/util/BufferCollector.html" title="interface in org.jgrapes.io.util">BufferCollector</a>&lt;W&gt;</pre>
<div class="block"><p>A queue based buffer pool. Using buffers from a pool is an important
feature for limiting the computational resources for an <a href="../../../../org/jgrapes/io/IOSubchannel.html" title="interface in org.jgrapes.io"><code>IOSubchannel</code></a>.
A producer of <a href="../../../../org/jgrapes/io/events/Output.html" title="class in org.jgrapes.io.events"><code>Output</code></a> events that simply creates its own buffers
may produce and enqueue a large number of events that are not consumed
as fast as they are produced.</p>
<p>Using a buffer pool with a typical size of two synchronizes the
producer and the consumers of events nicely. The producer
(thread) holds one buffer and fills it, the consumer (thread) holds
the other buffer and works with its content. If the producer finishes
before the consumer, it has to stop until the consumer has processed
previous event and releases the buffer. The consumer can continue
without delay, because the data has already been prepared and enqueued
as the next event.</p>
<p>One of the biggest problems when using a pool can be to identify
leaking buffers, i.e. buffers that are not properly returned to the pool.
This implementation therefore tracks all created buffers
(with a small overhead) and logs a warning if a buffer is no longer
used (referenced) but has not been returned to the pool. If the
log level for <a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="class in org.jgrapes.io.util"><code>ManagedBufferPool</code></a> is set to <a href="https://docs.oracle.com/javase/8/docs/api/java/util/logging/Level.html?is-external=true#FINE" title="class or interface in java.util.logging"><code>Level.FINE</code></a>,
the warning also includes a stack trace of the call to <a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html#acquire--"><code>acquire()</code></a>
that handed out the buffer. Providing this information in addition
obviously requires a larger overhead and is therefore limited to the
finer log levels.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.ManagedBufferPoolMXBean.html" title="interface in org.jgrapes.io.util">ManagedBufferPool.ManagedBufferPoolMXBean</a></span></code>
<div class="block">An MBean interface for getting information about the managed
buffer pools.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="https://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging">Logger</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html#logger">logger</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.jgrapes.io.util.BufferCollector">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.jgrapes.io.util.<a href="../../../../org/jgrapes/io/util/BufferCollector.html" title="interface in org.jgrapes.io.util">BufferCollector</a></h3>
<code><a href="../../../../org/jgrapes/io/util/BufferCollector.html#NOOP_COLLECTOR">NOOP_COLLECTOR</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html#ManagedBufferPool-java.util.function.BiFunction-java.util.function.Supplier-int-">ManagedBufferPool</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html?is-external=true" title="class or interface in java.util.function">BiFunction</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">T</a>,<a href="../../../../org/jgrapes/io/util/BufferCollector.html" title="interface in org.jgrapes.io.util">BufferCollector</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">W</a>&gt;,<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">W</a>&gt;&nbsp;wrapper,
                 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html?is-external=true" title="class or interface in java.util.function">Supplier</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">T</a>&gt;&nbsp;bufferFactory,
                 int&nbsp;buffers)</code>
<div class="block">Create a pool that keeps up to the given number of (wrapped) buffers
in the pool and also uses that number as upper limit.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html#ManagedBufferPool-java.util.function.BiFunction-java.util.function.Supplier-int-int-">ManagedBufferPool</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html?is-external=true" title="class or interface in java.util.function">BiFunction</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">T</a>,<a href="../../../../org/jgrapes/io/util/BufferCollector.html" title="interface in org.jgrapes.io.util">BufferCollector</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">W</a>&gt;,<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">W</a>&gt;&nbsp;wrapper,
                 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html?is-external=true" title="class or interface in java.util.function">Supplier</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">T</a>&gt;&nbsp;bufferFactory,
                 int&nbsp;lowerThreshold,
                 int&nbsp;upperLimit)</code>
<div class="block">Create a pool that contains a varying number of (wrapped) buffers.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">W</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html#acquire--">acquire</a></span>()</code>
<div class="block">Acquires a managed buffer from the pool.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html#bufferSize--">bufferSize</a></span>()</code>
<div class="block">Returns the size of the buffers managed by this pool.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html#defaultDrainDelay--">defaultDrainDelay</a></span>()</code>
<div class="block">Returns the default drain delay.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html#name--">name</a></span>()</code>
<div class="block">Returns the name of this pool.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html#recollect-W-">recollect</a></span>(<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">W</a>&nbsp;buffer)</code>
<div class="block">Re-adds the buffer to the pool.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html#setDefaultDrainDelay-long-">setDefaultDrainDelay</a></span>(long&nbsp;delay)</code>
<div class="block">Sets the default delay after which buffers are removed from
the pool.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="class in org.jgrapes.io.util">ManagedBufferPool</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">W</a>,<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html#setDrainDelay-long-">setDrainDelay</a></span>(long&nbsp;delay)</code>
<div class="block">Sets the delay after which buffers are removed from
the pool.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="class in org.jgrapes.io.util">ManagedBufferPool</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">W</a>,<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html#setName-java.lang.String-">setName</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Sets a name for this pool (to be used in status reports).</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.jgrapes.io.util.BufferCollector">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.jgrapes.io.util.<a href="../../../../org/jgrapes/io/util/BufferCollector.html" title="interface in org.jgrapes.io.util">BufferCollector</a></h3>
<code><a href="../../../../org/jgrapes/io/util/BufferCollector.html#noopCollector--">noopCollector</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="logger">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>logger</h4>
<pre>protected static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging">Logger</a> <a href="../../../../src-html/org/jgrapes/io/util/ManagedBufferPool.html#line.95">logger</a></pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ManagedBufferPool-java.util.function.BiFunction-java.util.function.Supplier-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ManagedBufferPool</h4>
<pre>public&nbsp;<a href="../../../../src-html/org/jgrapes/io/util/ManagedBufferPool.html#line.146">ManagedBufferPool</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html?is-external=true" title="class or interface in java.util.function">BiFunction</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">T</a>,<a href="../../../../org/jgrapes/io/util/BufferCollector.html" title="interface in org.jgrapes.io.util">BufferCollector</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">W</a>&gt;,<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">W</a>&gt;&nbsp;wrapper,
                         <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html?is-external=true" title="class or interface in java.util.function">Supplier</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">T</a>&gt;&nbsp;bufferFactory,
                         int&nbsp;lowerThreshold,
                         int&nbsp;upperLimit)</pre>
<div class="block"><p>Create a pool that contains a varying number of (wrapped) buffers.
The pool is initially empty. When buffers are requested and none
are left in the pool, new buffers are created up to the given
upper limit. Recollected buffers are put in the pool until it holds
the number specified by the lower threshold. Any additional
recollected buffers are discarded.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>wrapper</code> - the function that converts buffers to managed buffers</dd>
<dd><code>bufferFactory</code> - a function that creates a new buffer</dd>
<dd><code>lowerThreshold</code> - the number of buffers kept in the pool</dd>
<dd><code>upperLimit</code> - the maximum number of buffers</dd>
</dl>
</li>
</ul>
<a name="ManagedBufferPool-java.util.function.BiFunction-java.util.function.Supplier-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ManagedBufferPool</h4>
<pre>public&nbsp;<a href="../../../../src-html/org/jgrapes/io/util/ManagedBufferPool.html#line.166">ManagedBufferPool</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html?is-external=true" title="class or interface in java.util.function">BiFunction</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">T</a>,<a href="../../../../org/jgrapes/io/util/BufferCollector.html" title="interface in org.jgrapes.io.util">BufferCollector</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">W</a>&gt;,<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">W</a>&gt;&nbsp;wrapper,
                         <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html?is-external=true" title="class or interface in java.util.function">Supplier</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">T</a>&gt;&nbsp;bufferFactory,
                         int&nbsp;buffers)</pre>
<div class="block"><p>Create a pool that keeps up to the given number of (wrapped) buffers
in the pool and also uses that number as upper limit.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>wrapper</code> - the function that converts buffers to managed buffers</dd>
<dd><code>bufferFactory</code> - a function that creates a new buffer</dd>
<dd><code>buffers</code> - the number of buffers</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setDefaultDrainDelay-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultDrainDelay</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../src-html/org/jgrapes/io/util/ManagedBufferPool.html#line.120">setDefaultDrainDelay</a>(long&nbsp;delay)</pre>
<div class="block"><p>Sets the default delay after which buffers are removed from
the pool. The default value is 1500ms.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>delay</code> - the delay in ms</dd>
</dl>
</li>
</ul>
<a name="defaultDrainDelay--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>defaultDrainDelay</h4>
<pre>public static&nbsp;long&nbsp;<a href="../../../../src-html/org/jgrapes/io/util/ManagedBufferPool.html#line.129">defaultDrainDelay</a>()</pre>
<div class="block"><p>Returns the default drain delay.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the delay</dd>
</dl>
</li>
</ul>
<a name="setName-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setName</h4>
<pre>public&nbsp;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="class in org.jgrapes.io.util">ManagedBufferPool</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">W</a>,<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">T</a>&gt;&nbsp;<a href="../../../../src-html/org/jgrapes/io/util/ManagedBufferPool.html#line.177">setName</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block"><p>Sets a name for this pool (to be used in status reports).</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the object for easy chaining</dd>
</dl>
</li>
</ul>
<a name="name--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>name</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../src-html/org/jgrapes/io/util/ManagedBufferPool.html#line.187">name</a>()</pre>
<div class="block"><p>Returns the name of this pool.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the name</dd>
</dl>
</li>
</ul>
<a name="setDrainDelay-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDrainDelay</h4>
<pre>public&nbsp;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="class in org.jgrapes.io.util">ManagedBufferPool</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">W</a>,<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">T</a>&gt;&nbsp;<a href="../../../../src-html/org/jgrapes/io/util/ManagedBufferPool.html#line.198">setDrainDelay</a>(long&nbsp;delay)</pre>
<div class="block"><p>Sets the delay after which buffers are removed from
the pool.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>delay</code> - the delay</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the object for easy chaining</dd>
</dl>
</li>
</ul>
<a name="bufferSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bufferSize</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/org/jgrapes/io/util/ManagedBufferPool.html#line.234">bufferSize</a>()</pre>
<div class="block"><p>Returns the size of the buffers managed by this pool.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the buffer size</dd>
</dl>
</li>
</ul>
<a name="acquire--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquire</h4>
<pre>public&nbsp;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">W</a>&nbsp;<a href="../../../../src-html/org/jgrapes/io/util/ManagedBufferPool.html#line.250">acquire</a>()
          throws <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block"><p>Acquires a managed buffer from the pool. If the pool is empty,
waits for a buffer to become available. The acquired buffer has
a lock count of one.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the acquired buffer</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if the current thread is interrupted</dd>
</dl>
</li>
</ul>
<a name="recollect-org.jgrapes.io.util.ManagedBuffer-">
<!--   -->
</a><a name="recollect-W-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recollect</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/jgrapes/io/util/ManagedBufferPool.html#line.286">recollect</a>(<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">W</a>&nbsp;buffer)</pre>
<div class="block"><p>Re-adds the buffer to the pool. The buffer is cleared.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/jgrapes/io/util/BufferCollector.html#recollect-B-">recollect</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/jgrapes/io/util/BufferCollector.html" title="interface in org.jgrapes.io.util">BufferCollector</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">W</a> extends <a href="../../../../org/jgrapes/io/util/ManagedBuffer.html" title="class in org.jgrapes.io.util">ManagedBuffer</a>&lt;<a href="../../../../org/jgrapes/io/util/ManagedBufferPool.html" title="type parameter in ManagedBufferPool">T</a>&gt;&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>buffer</code> - the buffer</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/jgrapes/io/util/BufferCollector.html#recollect-B-"><code>BufferCollector.recollect(org.jgrapes.io.util.ManagedBuffer)</code></a></dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../src-html/org/jgrapes/io/util/ManagedBufferPool.html#line.324">toString</a>()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ManagedBufferPool.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><script type="text/javascript" charset="utf-8" src="../../../../highlight.pack.js"></script>
<script type="text/javascript"><!--
var cssId = 'highlightCss';
if (!document.getElementById(cssId))
{
    var head  = document.getElementsByTagName('head')[0];
    var link  = document.createElement('link');
    link.id   = cssId;
    link.rel  = 'stylesheet';
    link.type = 'text/css';
    link.charset = 'utf-8';
    link.href = '../../../../highlight.css';
    link.media = 'all';
    head.appendChild(link);
}hljs.initHighlightingOnLoad();
//--></script></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/jgrapes/io/util/ManagedBuffer.CharBufferView.html" title="class in org.jgrapes.io.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/jgrapes/io/util/ManagedBufferPool.ManagedBufferPoolMXBean.html" title="interface in org.jgrapes.io.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jgrapes/io/util/ManagedBufferPool.html" target="_top">Frames</a></li>
<li><a href="ManagedBufferPool.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><div>
    <!-- Optional footer data -->
    <p id=githubfooter style="padding: 5px 6px; visibility: hidden">Hosted on GitHub Pages &mdash; 
    <a href="https://github.com/site/terms" target="_top">Terms</a>
    &mdash; <a href="https://github.com/site/privacy" target="_top">Privacy</a></p>
    <script type="text/javascript">
    if (location.hostname.indexOf("github") !== -1) {
        document.getElementById("githubfooter").style.visibility="visible";
    }
    </script>
    <noscript>
        <div>JavaScript is disabled on your browser, terms and privacy links may not be shown correctly.</div>
    </noscript>
</div></small></p>
</body>
</html>
