var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,a){b!=Array.prototype&&b!=Object.prototype&&(b[c]=a.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var b=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+b++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var c=0;return $jscomp.iteratorPrototype(function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.makeIterator=function(b){$jscomp.initSymbolIterator();var c=b[Symbol.iterator];return c?c.call(b):$jscomp.arrayIterator(b)};$jscomp.arrayFromIterator=function(b){for(var c,a=[];!(c=b.next()).done;)a.push(c.value);return a};$jscomp.arrayFromIterable=function(b){return b instanceof Array?b:$jscomp.arrayFromIterator($jscomp.makeIterator(b))};
$jscomp.checkStringArgs=function(b,c,a){if(null==b)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return b+""};
$jscomp.polyfill=function(b,c,a,d){if(c){a=$jscomp.global;b=b.split(".");for(d=0;d<b.length-1;d++){var e=b[d];e in a||(a[e]={});a=a[e]}b=b[b.length-1];d=a[b];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(a,b,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("String.prototype.endsWith",function(b){return b?b:function(b,a){var c=$jscomp.checkStringArgs(this,b,"endsWith");b+="";void 0===a&&(a=c.length);a=Math.max(0,Math.min(a|0,c.length));for(var e=b.length;0<e&&0<a;)if(c[--a]!=b[--e])return!1;return 0>=e}},"es6","es3");$jscomp.owns=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)};
$jscomp.polyfill("WeakMap",function(b){function c(a){$jscomp.owns(a,d)||$jscomp.defineProperty(a,d,{value:{}})}function a(a){var b=Object[a];b&&(Object[a]=function(a){c(a);return b(a)})}if(function(){if(!b||!Object.seal)return!1;try{var a=Object.seal({}),c=Object.seal({}),d=new b([[a,2],[c,3]]);if(2!=d.get(a)||3!=d.get(c))return!1;d.delete(a);d.set(c,4);return!d.has(a)&&4==d.get(c)}catch(C){return!1}}())return b;var d="$jscomp_hidden_"+Math.random().toString().substring(2);a("freeze");a("preventExtensions");
a("seal");var e=0,g=function(a){this.id_=(e+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};g.prototype.set=function(a,b){c(a);if(!$jscomp.owns(a,d))throw Error("WeakMap key fail: "+a);a[d][this.id_]=b;return this};g.prototype.get=function(a){return $jscomp.owns(a,d)?a[d][this.id_]:void 0};g.prototype.has=function(a){return $jscomp.owns(a,d)&&$jscomp.owns(a[d],this.id_)};g.prototype.delete=
function(a){return $jscomp.owns(a,d)&&$jscomp.owns(a[d],this.id_)?delete a[d][this.id_]:!1};return g},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(b){if(!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!b||!b.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),c=new b($jscomp.makeIterator([[a,"s"]]));if("s"!=c.get(a)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=a||"s"!=e.value[1])return!1;e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(p){return!1}}())return b;$jscomp.initSymbol();
$jscomp.initSymbolIterator();var c=new WeakMap,a=function(a){this.data_={};this.head_=g();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};a.prototype.set=function(a,b){var c=d(this,a);c.list||(c.list=this.data_[c.id]=[]);c.entry?c.entry.value=b:(c.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:b},c.list.push(c.entry),this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++);return this};a.prototype.delete=
function(a){a=d(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};a.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=g();this.size=0};a.prototype.has=function(a){return!!d(this,a).entry};a.prototype.get=function(a){return(a=d(this,a).entry)&&a.value};a.prototype.entries=function(){return e(this,function(a){return[a.key,
a.value]})};a.prototype.keys=function(){return e(this,function(a){return a.key})};a.prototype.values=function(){return e(this,function(a){return a.value})};a.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};a.prototype[Symbol.iterator]=a.prototype.entries;var d=function(a,b){var d=b&&typeof b;"object"==d||"function"==d?c.has(b)?d=c.get(b):(d=""+ ++l,c.set(b,d)):d="p_"+b;var e=a.data_[d];if(e&&$jscomp.owns(a.data_,d))for(a=0;a<e.length;a++){var g=
e[a];if(b!==b&&g.key!==g.key||b===g.key)return{id:d,list:e,index:a,entry:g}}return{id:d,list:e,index:-1,entry:void 0}},e=function(a,b){var c=a.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},g=function(){var a={};return a.previous=a.next=a.head=a},l=0;return a},"es6","es3");
$jscomp.polyfill("Set",function(b){if(!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!b||!b.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),c=new b($jscomp.makeIterator([a]));if(!c.has(a)||1!=c.size||c.add(a)!=c||1!=c.size||c.add({x:4})!=c||2!=c.size)return!1;var e=c.entries(),g=e.next();if(g.done||g.value[0]!=a||g.value[1]!=a)return!1;g=e.next();return g.done||g.value[0]==a||4!=g.value[0].x||g.value[1]!=g.value[0]?!1:e.next().done}catch(l){return!1}}())return b;
$jscomp.initSymbol();$jscomp.initSymbolIterator();var c=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size};c.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};c.prototype.delete=function(a){a=this.map_.delete(a);this.size=this.map_.size;return a};c.prototype.clear=function(){this.map_.clear();this.size=0};c.prototype.has=function(a){return this.map_.has(a)};c.prototype.entries=function(){return this.map_.entries()};
c.prototype.values=function(){return this.map_.values()};c.prototype.keys=c.prototype.values;c.prototype[Symbol.iterator]=c.prototype.values;c.prototype.forEach=function(a,b){var c=this;this.map_.forEach(function(d){return a.call(b,d,d,c)})};return c},"es6","es3");$jscomp.findInternal=function(b,c,a){b instanceof String&&(b=String(b));for(var d=b.length,e=0;e<d;e++){var g=b[e];if(c.call(a,g,e,b))return{i:e,v:g}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,a){return $jscomp.findInternal(this,b,a).v}},"es6","es3");$jscomp.polyfill("Object.is",function(b){return b?b:function(b,a){return b===a?0!==b||1/b===1/a:b!==b&&a!==a}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(b){return b?b:function(b,a){var c=this;c instanceof String&&(c=String(c));var e=c.length;for(a=a||0;a<e;a++)if(c[a]==b||Object.is(c[a],b))return!0;return!1}},"es7","es3");
$jscomp.polyfill("String.prototype.includes",function(b){return b?b:function(b,a){return-1!==$jscomp.checkStringArgs(this,b,"includes").indexOf(b,a||0)}},"es6","es3");$jscomp.polyfill("String.prototype.startsWith",function(b){return b?b:function(b,a){var c=$jscomp.checkStringArgs(this,b,"startsWith");b+="";var e=c.length,g=b.length;a=Math.max(0,Math.min(a|0,c.length));for(var l=0;l<g&&a<e;)if(c[a++]!=b[l++])return!1;return l>=g}},"es6","es3");var JGPortal={};
(function(){function b(){var a=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(a+=performance.now());return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(f){var b=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"==f?b:b&3|8).toString(16)})}function c(a){var f=a.requires;a.requires=[];f.forEach(function(f){r.has(f)||a.requires.push(f)});if(0<a.requires.length)t.push(a);else{f=$("head").get()[0];var b=document.createElement("script");a.source?
(b.text=a.source,a.provides.forEach(function(a){r.add(a)})):(b.src=a.uri,b.addEventListener("load",function(f){q.delete(b.src);a.provides.forEach(function(a){r.add(a)});f=t;t=[];f.forEach(function(a){c(a)});0==q.size&&E&&JGPortal.unlockMessageQueue()}),q.add(b.src));f.appendChild(b)}}function a(a,b,D){for(var f in a){var m=a[f];0===$("head > link[href='"+m+"']").length&&$("head link[href$='/portal.css']:last").after("<link rel='stylesheet' href='"+m+"'>")}b&&(a=$("style"),a.text(b),$("head link[href$='/portal.css']:last").after(a));
for(var d in D)b=D[d],b.uri&&0<$("head > script[src='"+b.uri+"']").length||c(b)}function d(a){var b=a.data("onLoad");if(b){b=b.split(".");for(var f=window;f&&0<b.length;)f=f[b.shift()];f&&"function"===typeof f&&f.apply(null,[a])}}function e(){return $(".portlet[data-portlet-id]").map(function(){return $(this).attr("data-portlet-id")}).get()}function g(){return $("#portlet-tabs").tabs().find("> div[data-portlet-id]").map(function(){return $(this).attr("data-portlet-id")}).get()}function l(a){var b=
$("#portlet-tabs").tabs(),f=void 0;b.find("> div").filter(function(b){return $(this).attr("data-portlet-id")===a?(f=b,!0):!1});f&&b.tabs("option","active",f)}function A(a,b,c){for(var f=0;f<a.length;f++){if(a[f]===b)return!0;if(a[f]===c)break}return!1}function B(a,b){a=a.find(".portlet-header");a.find(".ui-icon").remove();b.includes("Edit")&&(a.prepend("<span class='ui-icon ui-icon-wrench portlet-edit'></span>"),a.find(".portlet-edit").on("click",function(){var a=$(this).closest(".portlet").attr("data-portlet-id");
JGPortal.sendRenderPortlet(a,"Edit",!0)}));b.includes("DeleteablePreview")&&(a.prepend("<span class='ui-icon ui-icon-delete portlet-delete'></span>"),a.find(".portlet-delete").on("click",function(){var a=$(this).closest(".portlet").attr("data-portlet-id");JGPortal.sendDeletePortlet(a)}));b.includes("View")&&(a.prepend("<span class='ui-icon ui-icon-fullscreen portlet-expand'></span>"),a.find(".portlet-expand").on("click",function(){var a=$(this).closest(".portlet").attr("data-portlet-id");u(a)?l(a):
JGPortal.sendRenderPortlet(a,"View",!0)}))}function C(a,b,c,e){var f=v(a);if(!f){f=$('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div class="portlet-header ui-widget-header"><span class="portlet-header-text"></span></div><div class="portlet-content ui-widget-content"></div></div>');f.attr("data-portlet-id",a);f.find(".portlet-header").addClass("ui-widget-header ui-corner-all");B(f,b);var m=!1;$(".column").each(function(b){if(b>=w.length)return!1;var c=w[b];if(A(c,
a,a))return $(this).find(".portlet").each(function(b){b=$(this);var d=b.attr("data-portlet-id");if(!A(c,d,a))return b.before(f),m=!0,!1}),m||$(this).append(f),m=!0,!1});m||$(".column").first().prepend(f);n()}b=$(c);f.find(".portlet-header-text").text(b.attr("data-portlet-title"));c=f.find(".portlet-content");c.children().detach();c.append(b);d(b);e&&$("#portlet-tabs").tabs("option","active",0)}function n(){if(F){var a=[];$(".overview-panel").find(".column").each(function(b){var f=[];a.push(f);$(this).find("div.portlet[data-portlet-id]").each(function(a){f.push($(this).attr("data-portlet-id"))})});
var b=[],c=$("#portlet-tabs").tabs();c.find(".ui-tabs-nav .ui-tabs-tab").each(function(a){0<a&&(a=$(this).attr("aria-controls"),a=c.find("#"+a).attr("data-portlet-id"),b.push(a))});JGPortal.sendLayout(a,b)}}var p={debug:function(a){console&&console.debug&&console.debug(a)},info:function(a){console&&console.info&&console.info(a)},warn:function(a){console&&console.warn&&console.warn(a)},error:function(a){console&&console.error&&console.error(a)}};JGPortal.log=p;JGPortal.formatMemorySize=function(a,
b,c){void 0===c&&(c=b,b=-1);for(var f=0;1E4<a&&5>f;)a/=1024,f+=1;var d="PiB";switch(f){case 0:d="B";break;case 1:d="kiB";break;case 2:d="MiB";break;case 3:d="GiB";break;case 4:d="TiB"}return 0<=b?(new Intl.NumberFormat(c,{minimumFractionDigits:b,maximumFractionDigits:b})).format(a)+" "+d:(new Intl.NumberFormat(c)).format(a)+" "+d};var k=function(){this._ws=null;this._sendQueue=[];this._recvQueue=[];this._recvQueueLocks=0;this._messageHandlers={};this._refreshTimer=null;this._inactivity=0;this._reconnectTimer=
null;this._connectRequested=!1;this._portalSessionId=sessionStorage.getItem("org.jgrapes.portal.sessionId");this._portalSessionId||(this._portalSessionId=b(),sessionStorage.setItem("org.jgrapes.portal.sessionId",this._portalSessionId));this._location=("https:"===window.location.protocol?"wss":"ws")+"://"+window.location.host+window.location.pathname;this._location.endsWith("/")||(this._location+="/");this._location+="portal-session/"+this._portalSessionId;this._connectionLostNotification=null};k.prototype.portalSessionId=
function(){return this._portalSessionId};k.prototype._connect=function(){this._ws=new WebSocket(this._location);var a=this;this._ws.onopen=function(){null!=a._connectionLostNotification&&(a._connectionLostNotification.notification("close"),$("#server-connection-restored-notification").notification({autoClose:2E3}));e().forEach(function(a){JGPortal.sendRenderPortlet(a,"Preview",!1)});g().forEach(function(a){JGPortal.sendRenderPortlet(a,"View",!1)});a._drainSendQueue();a._refreshTimer=setInterval(function(){0==
a._sendQueue.length&&(a._inactivity+=x,0<y&&a._inactivity>=y&&(a.close(),$("#portal-session-suspended-dialog").dialog("option","buttons",{Ok:function(){$(this).dialog("close");a.connect()}}),$("#portal-session-suspended-dialog").dialog("open")),a._send({jsonrpc:"2.0",method:"keepAlive",params:[]}))},x)};this._ws.onclose=function(b){null!==a._refreshTimer&&(clearInterval(a._refreshTimer),a._refreshTimer=null);a._ws=null;a._connectRequested&&(null==a._connectionLostNotification?a._connectionLostNotification=
$("#server-connection-lost-notification").notification({error:!0,icon:"alert",destroyOnClose:!1}):a._connectionLostNotification.notification("open"),a._initiateReconnect())};this._ws.onerror=function(b){null!==a._refreshTimer&&(clearInterval(a._refreshTimer),a._refreshTimer=null);a._ws=null;a._connectRequested&&a._initiateReconnect()};this._ws.onmessage=function(b){b=JSON.parse(b.data);a._recvQueue.push(b);1===a._recvQueue.length&&a._handleMessages()}};k.prototype.connect=function(){this._connectRequested=
!0;this._connect()};k.prototype.close=function(){this._send({jsonrpc:"2.0",method:"disconnect",params:[this._portalSessionId]});this._connectRequested=!1;this._ws.close()};k.prototype._initiateReconnect=function(){if(!this._reconnectTimer){var a=this;this._reconnectTimer=setTimeout(function(){a._reconnectTimer=null;a._connect()},1E3)}};k.prototype._drainSendQueue=function(){for(;1==this._ws.readyState&&0<this._sendQueue.length;){var a=this._sendQueue[0];try{this._ws.send(a),this._sendQueue.shift()}catch(m){p.warn(m)}}};
k.prototype._send=function(a){this._sendQueue.push(JSON.stringify(a));this._drainSendQueue()};k.prototype.send=function(a){this._inactivity=0;this._send(a)};k.prototype.addMessageHandler=function(a,b){this._messageHandlers[a]=b};k.prototype._handleMessages=function(){for(;!(0===this._recvQueue.length||0<this._recvQueueLocks);){var a=this._recvQueue.shift(),b=this._messageHandlers[a.method];b?a.hasOwnProperty("params")?b.apply(null,[].concat($jscomp.arrayFromIterable(a.params))):b():p.error("No handler for invoked method "+
a.method)}};k.prototype.lockMessageReceiver=function(){this._recvQueueLocks+=1};k.prototype.unlockMessageReceiver=function(){--this._recvQueueLocks;0==this._recvQueueLocks&&this._handleMessages()};var h=new k;JGPortal.lockMessageQueue=function(){h.lockMessageReceiver()};JGPortal.unlockMessageQueue=function(){h.unlockMessageReceiver()};var x,y;JGPortal.init=function(a,b){x=a;y=b;$("body").faLoading({icon:"fa-circle-o-notch",spin:!0,text:!1});$("#theme-menu").on("click","[data-theme-id]",function(){JGPortal.sendSetTheme($(this).data("theme-id"));
$("#theme-menu").jqDropdown("hide")});$("#language-menu").on("click","[data-locale]",function(){JGPortal.sendSetLocale($(this).data("locale"));$("#theme-menu").jqDropdown("hide")});$("#addon-menu").on("click","[data-portlet-type]",function(){JGPortal.sendAddPortlet($(this).data("portlet-type"));$("#theme-menu").jqDropdown("hide")});$("#portlet-tabs").tabs();var c=$("#portlet-tabs").tabs();c.on("click","span.ui-icon-close",function(){var a=$(this).closest("li").remove().attr("aria-controls");$("#"+
a).remove();c.tabs("refresh");n()});$("#portal-session-suspended-dialog").dialog({autoOpen:!1,modal:!0});$(".column").sortable({connectWith:".column",handle:".portlet-header",cancel:".portlet-toggle",placeholder:"portlet-placeholder ui-corner-all",stop:function(a,b){n()}});JGPortal.sendPortalReady()};var r=new Set,t=[],q=new Set,E=!1;h.addMessageHandler("addPageResources",a);h.addMessageHandler("addPortletType",function(b,c,d,e,g){a(d,null,e);b=$('<li class="ui-menu-item"><div class="ui-menu-item-wrapper" data-portlet-type="'+
b+'">'+c+"</div></li>");$("#addon-menu-list").append(b)});var w=[[],[],[]],F=!1,z={};h.addMessageHandler("lastPortalLayout",function(a,b){w=a;0<q.size&&(JGPortal.lockMessageQueue(),E=!0)});h.addMessageHandler("reload",function(){window.location.reload(!0)});JGPortal.registerPortletMethod=function(a,b,c){var f=z[a];f||(f={},z[a]=f);f[b]=c};h.addMessageHandler("invokePortletMethod",function(a,b,c,d){(a=z[a])&&(c=a[c])&&c(b,d)});h.addMessageHandler("portalConfigured",function(){F=!0;n();$("body").faLoading("remove")});
JGPortal.findPortletPreview=function(a){a=$(".portlet[data-portlet-id='"+a+"']");if(1===a.length)return $(a[0])};var v=JGPortal.findPortletPreview;JGPortal.findPortletView=function(a){a=$("#portlet-tabs").tabs().find("> div[data-portlet-id='"+a+"']");if(1===a.length)return $(a[0])};var u=JGPortal.findPortletView;JGPortal.updatePortletViewTitle=function(a,b){var c=$("#portlet-tabs").tabs();a=c.find("> div[data-portlet-id='"+a+"']");0!==a.length&&(a.find("[data-portlet-title]").attr("data-portlet-title",
b),a=a.attr("id"),c=c.find("a[href='#"+a+"']"),c.empty(),c.append(b))};JGPortal.updatePortletModes=function(a,b){(a=v(a))&&B(a,b)};var G=1;h.addMessageHandler("updatePortlet",function(a,b,c,e,g){if("Preview"===b||"DeleteablePreview"===b)C(a,c,e,g);else if("View"===b){c=u(a);e=$(e);if(c)c.children().detach(),c.append(e);else{b=$("#portlet-tabs").tabs();G+=1;c="portlet-tabs-"+G;var f=$("<li><a href='@{href}'>@{label}</a> <span class='ui-icon ui-icon-close' role='presentation'>Remove Tab</span></li>".replace(/@\{href\}/g,
"#"+c).replace(/@\{label\}/g,e.attr("data-portlet-title")));b.find(".ui-tabs-nav").append(f);c=$("<div id='"+c+"'></div>");c.append(e);c.attr("data-portlet-id",a);b.append(c);b.tabs("refresh");n()}d(e);g&&l(a)}else"Edit"===b&&(g=$(e),g.dialog({modal:!0,width:"auto"}),g.attr("data-portlet-id",a),d(g))});h.addMessageHandler("deletePortlet",function(a){var b=u(a);b&&(b=b.closest(".ui-tabs-panel").remove().attr("id"),$("#portlet-tabs").tabs().find("li[aria-controls='"+b+"']").remove(),$("#portlet-tabs").tabs().tabs("refresh"));
(a=v(a))&&a.remove();n()});h.addMessageHandler("retrieveLocalData",function(a){var b=[];try{for(var c=0;c<localStorage.length;c++){var d=localStorage.key(c);if(!a.endsWith("/")){if(d!==a)continue}else if(!d.startsWith(a))continue;var f=localStorage.getItem(d);b.push([d,f])}}catch(I){p.error(I)}JGPortal.sendLocalData(b)});h.addMessageHandler("storeLocalData",function(a){try{for(var b in a){var c=a[b];"u"===c[0]?localStorage.setItem(c[1],c[2]):"d"===c[0]&&localStorage.removeItem(c[1])}}catch(H){p.error(H)}});
h.addMessageHandler("createNotification",function(a,b){$(a).notification(b)});h.connect();JGPortal.sendPortalReady=function(){h.send({jsonrpc:"2.0",method:"portalReady"})};JGPortal.sendSetTheme=function(a){h.send({jsonrpc:"2.0",method:"setTheme",params:[a]})};JGPortal.sendSetLocale=function(a){h.send({jsonrpc:"2.0",method:"setLocale",params:[a]})};JGPortal.sendRenderPortlet=function(a,b,c){h.send({jsonrpc:"2.0",method:"renderPortlet",params:[a,b,c]})};JGPortal.sendAddPortlet=function(a){h.send({jsonrpc:"2.0",
method:"addPortlet",params:[a,"Preview"]})};JGPortal.sendDeletePortlet=function(a){h.send({jsonrpc:"2.0",method:"deletePortlet",params:[a]})};JGPortal.sendToPortlet=function(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];void 0===d?h.send({jsonrpc:"2.0",method:"sendToPortlet",params:[a,b]}):h.send({jsonrpc:"2.0",method:"sendToPortlet",params:[a,b,d]})};JGPortal.sendLayout=function(a,b){h.send({jsonrpc:"2.0",method:"portalLayout",params:[a,b]})};JGPortal.sendLocalData=function(a){h.send({jsonrpc:"2.0",
method:"retrievedLocalData",params:[a]})}})();(function(){JGPortal.tooltip=function(b){b.tooltip({items:"[data-tooltip-id], [title]",content:function(){var b=$(this);if(b.is("[data-tooltip-id]")){b=b.attr("data-tooltip-id");var a=$("#"+b);return a?(a=a.clone(!0),a.removeClass("jgrapes-tooltip-prototype"),a):"<#"+b+">"}if(b.is("[title]"))return b.attr("title")}})}})();
(function(){var b=null,c=0;$(function(){var a=$("<div></div>");b=$("<div class='ui-notification-container ui-front'></div>");a.append(b);$("body").prepend(a)});$.widget("ui.notification",{options:{classes:{"ui-notification":"ui-corner-all ui-widget-shadow","ui-notification-content":"ui-corner-all"},error:!1,icon:"circle-info",autoOpen:!0,autoClose:null,destroyOnClose:null,show:{effect:"blind",direction:"up",duration:"fast"},hide:{effect:"blind",direction:"up",duration:"fast"}},_create:function(){var a=
this;this._isOpen=!1;null===this.options.destroyOnClose&&(this.options.destroyOnClose=this.options.autoOpen);var b=$("<div></div>"),e="ui-notification-"+ ++c;b.attr("id",e);this._addClass(b,"ui-notification");b.addClass("ui-widget-content");b.addClass("ui-widget");this.options.error?b.addClass("ui-state-error"):b.addClass("ui-state-highlight");e=$("<button></button>");e.addClass("ui-notification-close");e.button({icon:"ui-icon-close",showLabel:!1});e.on("click",function(){a.close()});b.append(e);
this.options.icon&&b.append($('<span class="ui-notification-content ui-icon ui-icon-'+this.options.icon+'"></span>'));e=$("<div></div>");this._addClass(e,"ui-notification-content");b.append(e);e.append(this.element.clone());e.find(":first-child").show();b.hide();this.options.autoClose&&setInterval(function(){a.close()},this.options.autoClose);this.notification=b;this.options.autoOpen&&this.open()},open:function(){b.prepend(this.widget());this._isOpen=!0;this._show(this.widget(),this.options.show)},
widget:function(){return this.notification},close:function(){var a=this;this._isOpen=!1;this._hide(this.widget(),this.options.hide,function(){a.options.destroyOnClose&&a.destroy()})},_destroy:function(){this._isOpen&&this.close()}})})();
