<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="367px" preserveAspectRatio="none" style="width:567px;height:367px;" version="1.1" viewBox="0 0 567 367" width="567px" zoomAndPan="magnify"><defs><filter height="300%" id="fb4wj60arfhkt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster org.jgrapes.http--><polygon fill="#FFFFFF" filter="url(#fb4wj60arfhkt)" points="275.5,16,409.5,16,416.5,38.2969,419.5,38.2969,419.5,99,275.5,99,275.5,16" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="275.5" x2="416.5" y1="38.2969" y2="38.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="128" x="279.5" y="30.9951">org.jgrapes.http</text><!--class Session--><rect fill="#FEFECE" filter="url(#fb4wj60arfhkt)" height="48" id="Session" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="294" y="43"/><ellipse cx="309" cy="59" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M311.9688,64.6406 Q311.3906,64.9375 310.75,65.0859 Q310.1094,65.2344 309.4063,65.2344 Q306.9063,65.2344 305.5859,63.5859 Q304.2656,61.9375 304.2656,58.8125 Q304.2656,55.6875 305.5859,54.0313 Q306.9063,52.375 309.4063,52.375 Q310.1094,52.375 310.7578,52.5313 Q311.4063,52.6875 311.9688,52.9844 L311.9688,55.7031 Q311.3438,55.125 310.75,54.8516 Q310.1563,54.5781 309.5313,54.5781 Q308.1875,54.5781 307.5,55.6484 Q306.8125,56.7188 306.8125,58.8125 Q306.8125,60.9063 307.5,61.9766 Q308.1875,63.0469 309.5313,63.0469 Q310.1563,63.0469 310.75,62.7734 Q311.3438,62.5 311.9688,61.9219 L311.9688,64.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="49" x="323" y="63.1543">Session</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="295" x2="374" y1="75" y2="75"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="295" x2="374" y1="83" y2="83"/><!--class PortalSession--><rect fill="#FEFECE" filter="url(#fb4wj60arfhkt)" height="188.8516" id="PortalSession" style="stroke: #A80036; stroke-width: 1.5;" width="445" x="6" y="168"/><ellipse cx="181.25" cy="184" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M184.2188,189.6406 Q183.6406,189.9375 183,190.0859 Q182.3594,190.2344 181.6563,190.2344 Q179.1563,190.2344 177.8359,188.5859 Q176.5156,186.9375 176.5156,183.8125 Q176.5156,180.6875 177.8359,179.0313 Q179.1563,177.375 181.6563,177.375 Q182.3594,177.375 183.0078,177.5313 Q183.6563,177.6875 184.2188,177.9844 L184.2188,180.7031 Q183.5938,180.125 183,179.8516 Q182.4063,179.5781 181.7813,179.5781 Q180.4375,179.5781 179.75,180.6484 Q179.0625,181.7188 179.0625,183.8125 Q179.0625,185.9063 179.75,186.9766 Q180.4375,188.0469 181.7813,188.0469 Q182.4063,188.0469 183,187.7734 Q183.5938,187.5 184.2188,186.9219 L184.2188,189.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="86" x="201.75" y="188.1543">PortalSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="450" y1="200" y2="200"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="208.9023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="248" x="26" y="214.2104">Map&lt;String,PortalSession&gt; portalSessions</text><line style="stroke: #000000; stroke-width: 1.0;" x1="26" x2="274" y1="216.2104" y2="216.2104"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="450" y1="220.8047" y2="220.8047"/><ellipse cx="17" cy="232.707" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="419" x="26" y="235.0151">findOrCreate(String portalSessionId, Manager component): PortalSession</text><line style="stroke: #000000; stroke-width: 1.0;" x1="26" x2="445" y1="237.0151" y2="237.0151"/><ellipse cx="17" cy="245.5117" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="26" y="247.8198">setTimeout(timeout: long): PortalSession</text><ellipse cx="17" cy="258.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="26" y="260.6245">refresh(): void</text><ellipse cx="17" cy="271.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="398" x="26" y="273.4292">setUpstreamChannel(IOSubchannel upstreamChannel): PortalSession</text><ellipse cx="17" cy="283.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="302" x="26" y="286.2339">setSession(Session browserSession): PortalSession</text><ellipse cx="17" cy="296.7305" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="260" x="26" y="299.0386">upstreamChannel(): Optional&lt;IOSubchannel&gt;</text><ellipse cx="17" cy="309.5352" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="26" y="311.8433">portalSessionId(): String</text><ellipse cx="17" cy="322.3398" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="26" y="324.6479">browserSession(): Session</text><ellipse cx="17" cy="335.1445" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="26" y="337.4526">locale(): Locale</text><ellipse cx="17" cy="347.9492" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="26" y="350.2573">setLocale(Locale locale): void</text><!--class IOSubchannel--><rect fill="#FEFECE" filter="url(#fb4wj60arfhkt)" height="48" id="IOSubchannel" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="140.5" y="43"/><ellipse cx="155.5" cy="59" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M151.4219,54.7656 L151.4219,52.6094 L158.8125,52.6094 L158.8125,54.7656 L156.3438,54.7656 L156.3438,62.8438 L158.8125,62.8438 L158.8125,65 L151.4219,65 L151.4219,62.8438 L153.8906,62.8438 L153.8906,54.7656 L151.4219,54.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="86" x="169.5" y="63.1543">IOSubchannel</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="141.5" x2="257.5" y1="75" y2="75"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="141.5" x2="257.5" y1="83" y2="83"/><!--link IOSubchannel to PortalSession--><path d="M206.0888,111.4177 C208.5782,128.1994 211.5159,148.0037 214.4304,167.6514 " fill="none" id="IOSubchannel-PortalSession" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="199.1247,112.1756,203.1142,91.3649,212.9732,110.1213,199.1247,112.1756" style="stroke: #A80036; stroke-width: 1.0;"/><!--link PortalSession to PortalSession--><path d="M464.1552,245.6117 C477.8267,249.6699 486,255.2994 486,262.5 C486,271.7168 472.6088,278.3594 451.4367,282.4277 " fill="none" id="PortalSession-PortalSession" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="451.4367,242.5723,456.3427,247.8573,463.1081,245.3614,458.2021,240.0764,451.4367,242.5723" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="492" y="267.0669">maintains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="458.8831" y="238.7438">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="458.8667" y="279.907">*</text><!--link Session to PortalSession--><path d="M318.7297,96.0858 C308.3244,115.2767 294.0511,141.6016 279.9268,167.6514 " fill="none" id="Session-PortalSession" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="321.2894,91.3649,313.4831,97.3701,318.9061,95.7603,320.5158,101.1833,321.2894,91.3649" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="303.5" y="134.0669">browser session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="309.0943" y="111.2151">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="276.5962" y="156.893">*</text><!--
@startuml
class PortalSession {
	-{static}Map<String,PortalSession> portalSessions
	+{static}findOrCreate(String portalSessionId, Manager component): PortalSession
  +setTimeout(timeout: long): PortalSession
  +refresh(): void
	+setUpstreamChannel(IOSubchannel upstreamChannel): PortalSession
	+setSession(Session browserSession): PortalSession
	+upstreamChannel(): Optional<IOSubchannel>
	+portalSessionId(): String
	+browserSession(): Session
	+locale(): Locale
	+setLocale(Locale locale): void
 }
 Interface IOSubchannel {
 }
 IOSubchannel <|.. PortalSession

 PortalSession "1" *- - "*" PortalSession : maintains
 
 package org.jgrapes.http {
     class Session
 }
 
 PortalSession "*" -up-> "1" Session: browser session
@enduml

PlantUML version 1.2017.18(Fri Oct 06 18:56:32 CEST 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_181-b13
Operating System: Linux
OS Version: 4.20.5-100.fc28.x86_64
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>