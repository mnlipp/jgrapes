<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="385px" preserveAspectRatio="none" style="width:567px;height:385px;" version="1.1" viewBox="0 0 567 385" width="567px" zoomAndPan="magnify"><defs><filter height="300%" id="fb4wj60arfhkt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster org.jgrapes.http--><polygon fill="#FFFFFF" filter="url(#fb4wj60arfhkt)" points="256.5,24,390.5,24,397.5,46.2969,400.5,46.2969,400.5,123,256.5,123,256.5,24" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="256.5" x2="397.5" y1="46.2969" y2="46.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="128" x="260.5" y="38.9951">org.jgrapes.http</text><!--class Session--><rect fill="#FEFECE" filter="url(#fb4wj60arfhkt)" height="48" id="Session" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="275" y="59"/><ellipse cx="290" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M292.9688,80.6406 Q292.3906,80.9375 291.75,81.0859 Q291.1094,81.2344 290.4063,81.2344 Q287.9063,81.2344 286.5859,79.5859 Q285.2656,77.9375 285.2656,74.8125 Q285.2656,71.6875 286.5859,70.0313 Q287.9063,68.375 290.4063,68.375 Q291.1094,68.375 291.7578,68.5313 Q292.4063,68.6875 292.9688,68.9844 L292.9688,71.7031 Q292.3438,71.125 291.75,70.8516 Q291.1563,70.5781 290.5313,70.5781 Q289.1875,70.5781 288.5,71.6484 Q287.8125,72.7188 287.8125,74.8125 Q287.8125,76.9063 288.5,77.9766 Q289.1875,79.0469 290.5313,79.0469 Q291.1563,79.0469 291.75,78.7734 Q292.3438,78.5 292.9688,77.9219 L292.9688,80.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="49" x="304" y="79.1543">Session</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="276" x2="355" y1="91" y2="91"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="276" x2="355" y1="99" y2="99"/><!--class PortalSession--><rect fill="#FEFECE" filter="url(#fb4wj60arfhkt)" height="188.8516" id="PortalSession" style="stroke: #A80036; stroke-width: 1.5;" width="445" x="6" y="186"/><ellipse cx="181.25" cy="202" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M184.2188,207.6406 Q183.6406,207.9375 183,208.0859 Q182.3594,208.2344 181.6563,208.2344 Q179.1563,208.2344 177.8359,206.5859 Q176.5156,204.9375 176.5156,201.8125 Q176.5156,198.6875 177.8359,197.0313 Q179.1563,195.375 181.6563,195.375 Q182.3594,195.375 183.0078,195.5313 Q183.6563,195.6875 184.2188,195.9844 L184.2188,198.7031 Q183.5938,198.125 183,197.8516 Q182.4063,197.5781 181.7813,197.5781 Q180.4375,197.5781 179.75,198.6484 Q179.0625,199.7188 179.0625,201.8125 Q179.0625,203.9063 179.75,204.9766 Q180.4375,206.0469 181.7813,206.0469 Q182.4063,206.0469 183,205.7734 Q183.5938,205.5 184.2188,204.9219 L184.2188,207.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="86" x="201.75" y="206.1543">PortalSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="450" y1="218" y2="218"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="226.9023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="248" x="26" y="232.2104">Map&lt;String,PortalSession&gt; portalSessions</text><line style="stroke: #000000; stroke-width: 1.0;" x1="26" x2="274" y1="234.2104" y2="234.2104"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="450" y1="238.8047" y2="238.8047"/><ellipse cx="17" cy="250.707" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="419" x="26" y="253.0151">findOrCreate(String portalSessionId, Manager component): PortalSession</text><line style="stroke: #000000; stroke-width: 1.0;" x1="26" x2="445" y1="255.0151" y2="255.0151"/><ellipse cx="17" cy="263.5117" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="26" y="265.8198">setTimeout(timeout: long): PortalSession</text><ellipse cx="17" cy="276.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="26" y="278.6245">refresh(): void</text><ellipse cx="17" cy="289.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="398" x="26" y="291.4292">setUpstreamChannel(IOSubchannel upstreamChannel): PortalSession</text><ellipse cx="17" cy="301.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="302" x="26" y="304.2339">setSession(Session browserSession): PortalSession</text><ellipse cx="17" cy="314.7305" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="260" x="26" y="317.0386">upstreamChannel(): Optional&lt;IOSubchannel&gt;</text><ellipse cx="17" cy="327.5352" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="26" y="329.8433">portalSessionId(): String</text><ellipse cx="17" cy="340.3398" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="26" y="342.6479">browserSession(): Session</text><ellipse cx="17" cy="353.1445" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="26" y="355.4526">locale(): Locale</text><ellipse cx="17" cy="365.9492" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="26" y="368.2573">setLocale(Locale locale): void</text><!--class IOSubchannel--><rect fill="#FEFECE" filter="url(#fb4wj60arfhkt)" height="48" id="IOSubchannel" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="121.5" y="59"/><ellipse cx="136.5" cy="75" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M132.4219,70.7656 L132.4219,68.6094 L139.8125,68.6094 L139.8125,70.7656 L137.3438,70.7656 L137.3438,78.8438 L139.8125,78.8438 L139.8125,81 L132.4219,81 L132.4219,78.8438 L134.8906,78.8438 L134.8906,70.7656 L132.4219,70.7656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="86" x="150.5" y="79.1543">IOSubchannel</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="122.5" x2="238.5" y1="91" y2="91"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="122.5" x2="238.5" y1="99" y2="99"/><!--link IOSubchannel to PortalSession--><path d="M191.017,126.833 C195.299,144.274 200.429,165.168 205.499,185.819 " fill="none" id="IOSubchannel-PortalSession" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="184.166,128.286,186.195,107.194,197.762,124.948,184.166,128.286" style="stroke: #A80036; stroke-width: 1.0;"/><!--link PortalSession to PortalSession--><path d="M464.155,263.612 C477.827,267.67 486,273.299 486,280.5 C486,289.7168 472.609,296.3594 451.437,300.4277 " fill="none" id="PortalSession-PortalSession" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="451.437,260.572,456.3429,265.8571,463.1083,263.3613,458.2024,258.0762,451.437,260.572" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="492" y="285.0669">maintains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="458.8834" y="256.7435">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="458.867" y="297.907">*</text><!--link Session to PortalSession--><path d="M303.042,111.994 C294.338,131.554 282.172,158.892 270.189,185.819 " fill="none" id="Session-PortalSession" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="305.178,107.194,297.8639,113.7897,303.1448,111.7619,305.1726,117.0429,305.178,107.194" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="290.5" y="152.0669">browser session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="293.687" y="127.0025">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="266.1128" y="175.0734">*</text><!--
@startuml
class PortalSession {
	-{static}Map<String,PortalSession> portalSessions
	+{static}findOrCreate(String portalSessionId, Manager component): PortalSession
  +setTimeout(timeout: long): PortalSession
  +refresh(): void
	+setUpstreamChannel(IOSubchannel upstreamChannel): PortalSession
	+setSession(Session browserSession): PortalSession
	+upstreamChannel(): Optional<IOSubchannel>
	+portalSessionId(): String
	+browserSession(): Session
	+locale(): Locale
	+setLocale(Locale locale): void
 }
 Interface IOSubchannel {
 }
 IOSubchannel <|.. PortalSession

 PortalSession "1" *- - "*" PortalSession : maintains
 
 package org.jgrapes.http {
     class Session
 }
 
 PortalSession "*" -up-> "1" Session: browser session
@enduml

PlantUML version 1.2017.18(Fri Oct 06 16:56:32 UTC 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_222-8u222-b10-1ubuntu1~16.04.1-b10
Operating System: Linux
OS Version: 4.15.0-1049-gcp
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>