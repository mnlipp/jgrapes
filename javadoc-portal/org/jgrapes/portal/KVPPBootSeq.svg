<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="528px" preserveAspectRatio="none" style="width:728px;height:528px;" version="1.1" viewBox="0 0 728 528" width="728px" zoomAndPan="magnify"><defs><filter height="300%" id="f14apqq0s5nfwx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="194.5" y="117.29"/><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="194.5" y="262.9224"/><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="194.5" y="374.4282"/><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="194.5" y="439.6812"/><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="58.2529" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="356.5" y="146.4165"/><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="184.8853" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="356.5" y="233.7959"/><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="356.5" y="468.8076"/><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="518.5" y="175.543"/><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="666.5" y="345.3018"/><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="104.5059" style="stroke: #000000; stroke-width: 2.0;" width="704.5" x="13" y="307.1753"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="59" x2="59" y1="86.29" y2="516.0605"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="199.5" x2="199.5" y1="86.29" y2="516.0605"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="361" x2="361" y1="86.29" y2="516.0605"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="523.5" x2="523.5" y1="86.29" y2="516.0605"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="598.5" x2="598.5" y1="86.29" y2="516.0605"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="671.5" x2="671.5" y1="86.29" y2="516.0605"/><rect fill="#FEFECE" filter="url(#f14apqq0s5nfwx)" height="30.29" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="23" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="30" y="71.3027">Browser</text><rect fill="#FEFECE" filter="url(#f14apqq0s5nfwx)" height="30.29" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="170.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="177.5" y="71.3027">Portal</text><rect fill="#FEFECE" filter="url(#f14apqq0s5nfwx)" height="30.29" style="stroke: #A80036; stroke-width: 1.5;" width="187" x="266" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="273" y="71.3027">KVStoreBasedPortalPolicy</text><rect fill="#FEFECE" filter="url(#f14apqq0s5nfwx)" height="30.29" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="485.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="492.5" y="71.3027">KV Store</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="571.5" y="83.3027">System</text><ellipse cx="598.5" cy="13" fill="#FEFECE" filter="url(#f14apqq0s5nfwx)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M598.5,21 L598.5,48 M585.5,29 L611.5,29 M598.5,48 L585.5,63 M598.5,48 L611.5,63 " fill="#FEFECE" filter="url(#f14apqq0s5nfwx)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f14apqq0s5nfwx)" height="30.29" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="635.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="642.5" y="71.3027">PortletX</text><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="194.5" y="117.29"/><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="194.5" y="262.9224"/><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="194.5" y="374.4282"/><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="194.5" y="439.6812"/><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="58.2529" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="356.5" y="146.4165"/><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="184.8853" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="356.5" y="233.7959"/><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="356.5" y="468.8076"/><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="518.5" y="175.543"/><rect fill="#FFFFFF" filter="url(#f14apqq0s5nfwx)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="666.5" y="345.3018"/><polygon fill="#A80036" points="182.5,113.29,192.5,117.29,182.5,121.29,186.5,117.29" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="59.5" x2="188.5" y1="117.29" y2="117.29"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="66.5" y="112.6426">"portalReady"</text><polygon fill="#A80036" points="344.5,142.4165,354.5,146.4165,344.5,150.4165,348.5,146.4165" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="199.5" x2="350.5" y1="146.4165" y2="146.4165"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="206.5" y="141.769">PortalReady</text><polygon fill="#A80036" points="506.5,171.543,516.5,175.543,506.5,179.543,510.5,175.543" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="366.5" x2="512.5" y1="175.543" y2="175.543"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="373.5" y="170.8955">KeyValueStoreQuery</text><polygon fill="#A80036" points="372.5,200.6694,362.5,204.6694,372.5,208.6694,368.5,204.6694" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="366.5" x2="522.5" y1="204.6694" y2="204.6694"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="378.5" y="200.022">KeyValueStoreData</text><polygon fill="#A80036" points="377.5,229.7959,367.5,233.7959,377.5,237.7959,373.5,233.7959" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="371.5" x2="597.5" y1="233.7959" y2="233.7959"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="383.5" y="229.1484">PortalPrepared</text><polygon fill="#A80036" points="215.5,258.9224,205.5,262.9224,215.5,266.9224,211.5,262.9224" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="209.5" x2="355.5" y1="262.9224" y2="262.9224"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="221.5" y="258.2749">LastPortalLayout</text><polygon fill="#A80036" points="70.5,288.0488,60.5,292.0488,70.5,296.0488,66.5,292.0488" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="64.5" x2="198.5" y1="292.0488" y2="292.0488"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="76.5" y="287.4014">"lastPortalLayout"</text><rect fill="none" height="104.5059" style="stroke: #000000; stroke-width: 2.0;" width="704.5" x="13" y="307.1753"/><polygon fill="#EEEEEE" points="13,307.1753,90,307.1753,90,314.1753,80,324.1753,13,324.1753,13,307.1753" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="28" y="320.5278">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="202" x="105" y="319.6274">[for all portlets to be displayed]</text><polygon fill="#A80036" points="654.5,341.3018,664.5,345.3018,654.5,349.3018,658.5,345.3018" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="366.5" x2="660.5" y1="345.3018" y2="345.3018"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="373.5" y="340.6543">RenderPortletRequest</text><polygon fill="#A80036" points="215.5,370.4282,205.5,374.4282,215.5,378.4282,211.5,374.4282" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="209.5" x2="670.5" y1="374.4282" y2="374.4282"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="221.5" y="369.7808">RenderPortlet</text><polygon fill="#A80036" points="70.5,399.5547,60.5,403.5547,70.5,407.5547,66.5,403.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="64.5" x2="198.5" y1="403.5547" y2="403.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="76.5" y="398.9072">"renderPortlet"</text><polygon fill="#A80036" points="182.5,435.6812,192.5,439.6812,182.5,443.6812,186.5,439.6812" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="59.5" x2="188.5" y1="439.6812" y2="439.6812"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="66.5" y="435.0337">"portalLayout"</text><polygon fill="#A80036" points="344.5,464.8076,354.5,468.8076,344.5,472.8076,348.5,468.8076" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="199.5" x2="350.5" y1="468.8076" y2="468.8076"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="206.5" y="464.1602">PortalLayoutChanged</text><polygon fill="#A80036" points="511.5,493.9341,521.5,497.9341,511.5,501.9341,515.5,497.9341" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="361.5" x2="517.5" y1="497.9341" y2="497.9341"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="368.5" y="493.2866">KeyValueStoreUpdate</text><!--
@startuml
hide footbox
 
 Browser -> Portal: "portalReady"
 activate Portal
 Portal -> KVStoreBasedPortalPolicy: PortalReady
 deactivate Portal
 activate KVStoreBasedPortalPolicy
 KVStoreBasedPortalPolicy -> "KV Store": KeyValueStoreQuery
 activate "KV Store"
 "KV Store" -> KVStoreBasedPortalPolicy: KeyValueStoreData
 deactivate "KV Store"
 deactivate KVStoreBasedPortalPolicy
 
 actor System
 System -> KVStoreBasedPortalPolicy: PortalPrepared
 activate KVStoreBasedPortalPolicy
 KVStoreBasedPortalPolicy -> Portal: LastPortalLayout
 activate Portal
 Portal -> Browser: "lastPortalLayout"
 deactivate Portal
 loop for all portlets to be displayed
     KVStoreBasedPortalPolicy -> PortletX: RenderPortletRequest
     activate PortletX
     PortletX -> Portal: RenderPortlet
     deactivate PortletX
     activate Portal
     Portal -> Browser: "renderPortlet"
     deactivate Portal
 end
 deactivate KVStoreBasedPortalPolicy
 
 Browser -> Portal: "portalLayout"
 activate Portal
 Portal -> KVStoreBasedPortalPolicy: PortalLayoutChanged
 deactivate Portal
 activate KVStoreBasedPortalPolicy
 KVStoreBasedPortalPolicy -> "KV Store": KeyValueStoreUpdate
 deactivate KVStoreBasedPortalPolicy
@enduml

PlantUML version 1.2017.18(Fri Oct 06 16:56:32 UTC 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 9.0.1+11
Operating System: Linux
OS Version: 4.14.12-041412-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>