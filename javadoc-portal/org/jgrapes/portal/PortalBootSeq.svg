<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="482px" preserveAspectRatio="none" style="width:626px;height:482px;" version="1.1" viewBox="0 0 626 482" width="626px" zoomAndPan="magnify"><defs><filter height="300%" id="f1k9ectxyo5cco" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="214.0117" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="54.5" y="98.4165"/><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="282.5" y="69.29"/><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="282.5" y="127.543"/><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="282.5" y="185.7959"/><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="89.3794" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="282.5" y="244.0488"/><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="68.3794" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="282.5" y="391.6812"/><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="463.5" y="333.4282"/><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="565.5" y="362.5547"/><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="46.2529" style="stroke: #000000; stroke-width: 2.0;" width="336.5" x="13" y="259.1753"/><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="46.2529" style="stroke: #000000; stroke-width: 2.0;" width="336.5" x="13" y="406.8076"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="59" x2="59" y1="38.29" y2="470.0605"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="287.5" x2="287.5" y1="38.29" y2="470.0605"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="468.5" x2="468.5" y1="38.29" y2="470.0605"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="570" x2="570" y1="38.29" y2="470.0605"/><rect fill="#FEFECE" filter="url(#f1k9ectxyo5cco)" height="30.29" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="23" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="30" y="23.3027">Browser</text><rect fill="#FEFECE" filter="url(#f1k9ectxyo5cco)" height="30.29" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="235.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="242.5" y="23.3027">PortalWeblet</text><rect fill="#FEFECE" filter="url(#f1k9ectxyo5cco)" height="30.29" style="stroke: #A80036; stroke-width: 1.5;" width="54" x="439.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="446.5" y="23.3027">Portal</text><rect fill="#FEFECE" filter="url(#f1k9ectxyo5cco)" height="30.29" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="522" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="529" y="23.3027">PortalPolicy</text><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="214.0117" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="54.5" y="98.4165"/><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="282.5" y="69.29"/><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="282.5" y="127.543"/><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="282.5" y="185.7959"/><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="89.3794" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="282.5" y="244.0488"/><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="68.3794" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="282.5" y="391.6812"/><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="463.5" y="333.4282"/><rect fill="#FFFFFF" filter="url(#f1k9ectxyo5cco)" height="29.1265" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="565.5" y="362.5547"/><polygon fill="#A80036" points="270.5,65.29,280.5,69.29,270.5,73.29,274.5,69.29" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="59.5" x2="276.5" y1="69.29" y2="69.29"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="66.5" y="64.6426">"GET &lt;portal URL&gt;"</text><polygon fill="#A80036" points="75.5,94.4165,65.5,98.4165,75.5,102.4165,71.5,98.4165" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69.5" x2="286.5" y1="98.4165" y2="98.4165"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="81.5" y="93.769">"HTML document"</text><polygon fill="#A80036" points="270.5,123.543,280.5,127.543,270.5,131.543,274.5,127.543" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="64.5" x2="276.5" y1="127.543" y2="127.543"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="71.5" y="122.8955">"GET &lt;resource1 URL&gt;"</text><polygon fill="#A80036" points="75.5,152.6694,65.5,156.6694,75.5,160.6694,71.5,156.6694" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69.5" x2="286.5" y1="156.6694" y2="156.6694"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="81.5" y="152.022">Resource</text><polygon fill="#A80036" points="270.5,181.7959,280.5,185.7959,270.5,189.7959,274.5,185.7959" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="64.5" x2="276.5" y1="185.7959" y2="185.7959"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="71.5" y="181.1484">"GET &lt;resource2 URL&gt;"</text><polygon fill="#A80036" points="75.5,210.9224,65.5,214.9224,75.5,218.9224,71.5,214.9224" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69.5" x2="286.5" y1="214.9224" y2="214.9224"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="81.5" y="210.2749">Resource</text><polygon fill="#A80036" points="270.5,240.0488,280.5,244.0488,270.5,248.0488,274.5,244.0488" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="64.5" x2="276.5" y1="244.0488" y2="244.0488"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="199" x="71.5" y="239.4014">"GET &lt;Upgrade to WebSocket&gt;"</text><rect fill="none" height="46.2529" style="stroke: #000000; stroke-width: 2.0;" width="336.5" x="13" y="259.1753"/><polygon fill="#EEEEEE" points="13,259.1753,90,259.1753,90,266.1753,80,276.1753,13,276.1753,13,259.1753" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="28" y="272.5278">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="125" x="105" y="271.6274">[while request data]</text><polygon fill="#A80036" points="270.5,293.3018,280.5,297.3018,270.5,301.3018,274.5,297.3018" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="64.5" x2="276.5" y1="297.3018" y2="297.3018"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="71.5" y="292.6543">Input (JSON RPC)</text><polygon fill="#A80036" points="451.5,329.4282,461.5,333.4282,451.5,337.4282,455.5,333.4282" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="287.5" x2="457.5" y1="333.4282" y2="333.4282"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="294.5" y="328.7808">JsonInput("portalReady")</text><polygon fill="#A80036" points="553.5,358.5547,563.5,362.5547,553.5,366.5547,557.5,362.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="468.5" x2="559.5" y1="362.5547" y2="362.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="475.5" y="357.9072">PortalReady</text><polygon fill="#A80036" points="303.5,387.6812,293.5,391.6812,303.5,395.6812,299.5,391.6812" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="297.5" x2="569.5" y1="391.6812" y2="391.6812"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="309.5" y="387.0337">LastPortalLayout</text><rect fill="none" height="46.2529" style="stroke: #000000; stroke-width: 2.0;" width="336.5" x="13" y="406.8076"/><polygon fill="#EEEEEE" points="13,406.8076,90,406.8076,90,413.8076,80,423.8076,13,423.8076,13,406.8076" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="28" y="420.1602">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="125" x="105" y="419.2598">[while request data]</text><polygon fill="#A80036" points="70.5,440.9341,60.5,444.9341,70.5,448.9341,66.5,444.9341" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="64.5" x2="281.5" y1="444.9341" y2="444.9341"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="76.5" y="440.2866">Output (JSON RPC)</text><!--
@startuml
hide footbox
 
 Browser -> PortalWeblet: "GET <portal URL>"
 activate PortalWeblet
 PortalWeblet -> Browser: "HTML document"
 deactivate PortalWeblet
 activate Browser
 Browser -> PortalWeblet: "GET <resource1 URL>"
 activate PortalWeblet
 PortalWeblet -> Browser: Resource
 deactivate PortalWeblet
 Browser -> PortalWeblet: "GET <resource2 URL>"
 activate PortalWeblet
 PortalWeblet -> Browser: Resource
 deactivate PortalWeblet
 Browser -> PortalWeblet: "GET <Upgrade to WebSocket>"
 activate PortalWeblet
 loop while request data
     Browser -> PortalWeblet: Input (JSON RPC)
 end
 deactivate Browser
 PortalWeblet -> Portal: JsonInput("portalReady")
 deactivate PortalWeblet
 activate Portal
 Portal -> PortalPolicy: PortalReady
 deactivate Portal
 activate PortalPolicy
 PortalPolicy -> PortalWeblet: LastPortalLayout
 deactivate PortalPolicy
 activate PortalWeblet
 loop while request data
     PortalWeblet -> Browser: Output (JSON RPC)
 end
 deactivate PortalWeblet
@enduml

PlantUML version 1.2017.18(Fri Oct 06 16:56:32 UTC 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 9.0.1+11
Operating System: Linux
OS Version: 4.14.12-041412-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>