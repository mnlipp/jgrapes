<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="388px" preserveAspectRatio="none" style="width:537px;height:388px;" version="1.1" viewBox="0 0 537 388" width="537px" zoomAndPan="magnify"><defs><filter height="300%" id="fb4wj60arfhkt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster org.jgrapes.http--><polygon fill="#FFFFFF" filter="url(#fb4wj60arfhkt)" points="240,24,373,24,380,46.29,384,46.29,384,124,240,124,240,24" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="240" x2="380" y1="46.29" y2="46.29"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="244" y="39.3027">org.jgrapes.http</text><!--class Session--><rect fill="#FEFECE" filter="url(#fb4wj60arfhkt)" height="48" id="Session" style="stroke: #A80036; stroke-width: 1.5;" width="74" x="258" y="60"/><ellipse cx="273" cy="76" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M273.0938,82.3125 Q270.2344,82.3125 268.6719,80.625 Q267.1094,78.9375 267.1094,75.8594 Q267.1094,72.7969 268.7031,71.1016 Q270.2969,69.4063 273.1875,69.4063 Q275.8281,69.4063 277.9688,69.9531 L277.9688,71.8906 Q274.5313,70.7031 273.1563,70.7031 Q272.1563,70.7031 271.0625,72.0625 Q269.9688,73.4219 269.9688,75.875 Q269.9688,78.2344 271.1406,79.5938 Q272.3125,80.9531 273.3281,80.9531 Q275.0781,80.9531 277.9531,79.4531 L277.9531,81.375 Q276.25,82.3125 273.0938,82.3125 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="42" x="287" y="80.4209">Session</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="259" x2="331" y1="92" y2="92"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="259" x2="331" y1="100" y2="100"/><!--class PortalSession--><rect fill="#FEFECE" filter="url(#fb4wj60arfhkt)" height="188.7925" id="PortalSession" style="stroke: #A80036; stroke-width: 1.5;" width="416" x="6" y="188.5"/><ellipse cx="172.25" cy="204.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M172.3438,210.8125 Q169.4844,210.8125 167.9219,209.125 Q166.3594,207.4375 166.3594,204.3594 Q166.3594,201.2969 167.9531,199.6016 Q169.5469,197.9063 172.4375,197.9063 Q175.0781,197.9063 177.2188,198.4531 L177.2188,200.3906 Q173.7813,199.2031 172.4063,199.2031 Q171.4063,199.2031 170.3125,200.5625 Q169.2188,201.9219 169.2188,204.375 Q169.2188,206.7344 170.3906,208.0938 Q171.5625,209.4531 172.5781,209.4531 Q174.3281,209.4531 177.2031,207.9531 L177.2031,209.875 Q175.5,210.8125 172.3438,210.8125 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="192.75" y="208.9209">PortalSession</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="421" y1="220.5" y2="220.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="229.3997"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="229" x="26" y="234.9521">Map&lt;String,PortalSession&gt; portalSessions</text><line style="stroke: #000000; stroke-width: 1.0;" x1="26" x2="255" y1="236.9521" y2="236.9521"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="421" y1="241.2993" y2="241.2993"/><ellipse cx="17" cy="253.199" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="390" x="26" y="255.7515">findOrCreate(String portalSessionId, Manager component): PortalSession</text><line style="stroke: #000000; stroke-width: 1.0;" x1="26" x2="416" y1="257.7515" y2="257.7515"/><ellipse cx="17" cy="265.9983" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="217" x="26" y="268.5508">setTimeout(timeout: long): PortalSession</text><ellipse cx="17" cy="278.7976" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="26" y="281.3501">refresh(): void</text><ellipse cx="17" cy="291.5969" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="370" x="26" y="294.1494">setUpstreamChannel(IOSubchannel upstreamChannel): PortalSession</text><ellipse cx="17" cy="304.3962" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="272" x="26" y="306.9487">setSession(Session browserSession): PortalSession</text><ellipse cx="17" cy="317.1956" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="26" y="319.748">upstreamChannel(): Optional&lt;IOSubchannel&gt;</text><ellipse cx="17" cy="329.9949" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="26" y="332.5474">portalSessionId(): String</text><ellipse cx="17" cy="342.7942" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="26" y="345.3467">browserSession(): Session</text><ellipse cx="17" cy="355.5935" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="26" y="358.146">locale(): Locale</text><ellipse cx="17" cy="368.3928" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="26" y="370.9453">setLocale(Locale locale): void</text><!--class IOSubchannel--><rect fill="#FEFECE" filter="url(#fb4wj60arfhkt)" height="48" id="IOSubchannel" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="113.75" y="60"/><ellipse cx="128.75" cy="76" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M127.3281,82 L127.3281,69.7188 L130.0781,69.7188 L130.0781,82 L127.3281,82 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="77" x="142.75" y="80.4209">IOSubchannel</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="114.75" x2="221.75" y1="92" y2="92"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="114.75" x2="221.75" y1="100" y2="100"/><!--link IOSubchannel to PortalSession--><path d="M178.036,127.981 C182.178,145.719 187.153,167.025 192.063,188.053 " fill="none" id="IOSubchannel-PortalSession" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="171.189,129.44,173.457,108.372,184.822,126.256,171.189,129.44" style="stroke: #A80036; stroke-width: 1.0;"/><!--link PortalSession to PortalSession--><path d="M435.013,265.429 C448.738,269.578 457,275.435 457,283 C457,292.6836 443.464,299.568 422.26,303.6533 " fill="none" id="PortalSession-PortalSession" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="422.26,262.347,427.1517,267.6453,433.9238,265.1677,429.0321,259.8694,422.26,262.347" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="463" y="287.3525">maintains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="429.8881" y="257.6579">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="6" x="429.8522" y="300.4486">*</text><!--link Session to PortalSession--><path d="M283.391,113.235 C275.242,133.052 263.839,160.786 252.628,188.053 " fill="none" id="Session-PortalSession" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="285.39,108.372,278.2679,115.1746,283.4886,112.9963,285.6669,118.217,285.39,108.372" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="272" y="153.3525">browser session</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="272.8288" y="128.5088">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="6" x="247.8464" y="177.7892">*</text><!--
@startuml
class PortalSession {
	-{static}Map<String,PortalSession> portalSessions
	+{static}findOrCreate(String portalSessionId, Manager component): PortalSession
  +setTimeout(timeout: long): PortalSession
  +refresh(): void
	+setUpstreamChannel(IOSubchannel upstreamChannel): PortalSession
	+setSession(Session browserSession): PortalSession
	+upstreamChannel(): Optional<IOSubchannel>
	+portalSessionId(): String
	+browserSession(): Session
	+locale(): Locale
	+setLocale(Locale locale): void
 }
 Interface IOSubchannel {
 }
 IOSubchannel <|.. PortalSession

 PortalSession "1" *- - "*" PortalSession : maintains
 
 package org.jgrapes.http {
     class Session
 }
 
 PortalSession "*" -up-> "1" Session: browser session
@enduml

PlantUML version 1.2017.18(Fri Oct 06 16:56:32 UTC 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 9.0.1+11
Operating System: Linux
OS Version: 4.14.12-041412-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>